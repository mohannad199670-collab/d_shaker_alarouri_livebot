from telegram import Update
from telegram.ext import Updater, CommandHandler, MessageHandler, Filters, CallbackContext

TOKEN = "PUT_YOUR_BOT_TOKEN_HERE"
ADMIN_ID = 123456789  # Ø¶Ø¹ ID Ø§Ù„Ø£Ø¯Ù…Ù†

users = {}

def start(update: Update, context: CallbackContext):
    user = update.effective_user

    users[user.id] = {
        "name": user.full_name,
        "username": user.username,
        "language": user.language_code
    }

    info = (
        f"ğŸ‘¤ Ù…Ø³ØªØ®Ø¯Ù… Ø¬Ø¯ÙŠØ¯ Ø¯Ø®Ù„ Ø§Ù„Ø¨ÙˆØª\n"
        f"Ø§Ù„Ø§Ø³Ù…: {user.full_name}\n"
        f"Ø§Ù„ÙŠÙˆØ²Ø±: @{user.username}\n"
        f"ID: {user.id}\n"
        f"Ø§Ù„Ù„ØºØ©: {user.language_code}"
    )

    context.bot.send_message(chat_id=ADMIN_ID, text=info)
    update.message.reply_text("Ø£Ù‡Ù„Ø§Ù‹ Ø¨Ùƒ ğŸ‘‹\nØ£Ø±Ø³Ù„ Ø´ÙƒÙˆØ§Ùƒ ÙˆØ³ÙŠØªÙ… Ø§Ù„Ø±Ø¯ Ø¹Ù„ÙŠÙƒ Ù‚Ø±ÙŠØ¨Ù‹Ø§.")

def receive_complaint(update: Update, context: CallbackContext):
    user = update.effective_user
    text = update.message.text

    message = (
        f"ğŸ“© Ø´ÙƒÙˆÙ‰ Ø¬Ø¯ÙŠØ¯Ø©\n\n"
        f"ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: {user.full_name}\n"
        f"ğŸ†” ID: {user.id}\n"
        f"ğŸ‘¤ ÙŠÙˆØ²Ø±: @{user.username}\n\n"
        f"ğŸ“ Ø§Ù„Ø´ÙƒÙˆÙ‰:\n{text}"
    )

    context.bot.send_message(chat_id=ADMIN_ID, text=message)
    update.message.reply_text("âœ… ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø´ÙƒÙˆØ§ÙƒØŒ Ø³ÙŠØªÙ… Ø§Ù„Ø±Ø¯ Ø¹Ù„ÙŠÙƒ Ù‚Ø±ÙŠØ¨Ù‹Ø§.")

def reply_to_user(update: Update, context: CallbackContext):
    if update.effective_user.id != ADMIN_ID:
        return

    try:
        user_id = int(context.args[0])
        reply_text = " ".join(context.args[1:])

        context.bot.send_message(
            chat_id=user_id,
            text=f"ğŸ“¢ Ø±Ø¯ Ø§Ù„Ø¥Ø¯Ø§Ø±Ø©:\n{reply_text}"
        )

        update.message.reply_text("âœ… ØªÙ… Ø¥Ø±Ø³Ø§Ù„ Ø§Ù„Ø±Ø¯ Ø¨Ù†Ø¬Ø§Ø­")

    except:
        update.message.reply_text("âŒ Ø§Ù„ØµÙŠØºØ© Ø§Ù„ØµØ­ÙŠØ­Ø©:\n/reply USER_ID Ø§Ù„Ø±Ø³Ø§Ù„Ø©")

def main():
    updater = Updater(TOKEN, use_context=True)
    dp = updater.dispatcher

    dp.add_handler(CommandHandler("start", start))
    dp.add_handler(CommandHandler("reply", reply_to_user))
    dp.add_handler(MessageHandler(Filters.text & ~Filters.command, receive_complaint))

    updater.start_polling()
    updater.idle()

if __name__ == "__main__":
    main()
